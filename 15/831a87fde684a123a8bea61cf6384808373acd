r9786 trunk/source