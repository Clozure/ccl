r9478 trunk/source